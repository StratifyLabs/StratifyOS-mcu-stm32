set(STM32_FAMILY stm32f2xx)
set(SOS_LIB_INCLUDE_DIRECTORIES include src ${STM32_FAMILY} include/cmsis)

file(GLOB STM32_FAMILY_SOURCES ${CMAKE_SOURCE_DIR}/src/${STM32_FAMILY}/*)
file(GLOB STM32_VARIANT_SOURCES "${CMAKE_SOURCE_DIR}/src/${STM32_VARIANT}/*.c")
file(GLOB STM32_VARIANT_HEADERS	${CMAKE_SOURCE_DIR}/include/*${STM32_VARIANT}.h ${CMAKE_SOURCE_DIR}/include/cmsis/${STM32_FAMILY}.h ${CMAKE_SOURCE_DIR}/include/cmsis/${STM32_VARIANT}.h)
set(SOS_LIB_SOURCELIST ${SHARED_SOURCELIST} ${STM32_FAMILY_SOURCES} ${STM32_VARIANT_SOURCES} ${STM32_VARIANT_HEADERS})
set(SOS_LIB_OPTION mcu_${STM32_VARIANT})
set(SOS_LIB_DEFINITIONS __${STM32_VARIANT} ${STM32_VARIANT_DEFINE}=1)

set(SOS_LIB_ARCH v7m)
set(SOS_LIB_TYPE release)
include(${SOS_TOOLCHAIN_CMAKE_PATH}/sos-lib.cmake)
set(SOS_LIB_TYPE debug)
include(${SOS_TOOLCHAIN_CMAKE_PATH}/sos-lib.cmake)
